/* eslint-disable */
// @ts-nocheck
// Pristine JS - simplified version for linting
(function(global, factory) {
  if (typeof exports === 'object' && typeof module !== 'undefined') {
    module.exports = factory();
  } else if (typeof define === 'function' && define.amd) {
    define([], factory);
  } else {
    global.Pristine = factory();
  }
})(typeof globalThis !== 'undefined' ? globalThis : typeof self !== 'undefined' ? self : this, function() {
  'use strict';

  class Pristine {
    constructor(form, config) {
      this.form = form;
      this.config = Object.assign({
        classTo: 'pristine-validate',
        errorClass: 'pristine-error',
        successClass: 'pristine-success',
        errorTextParent: 'pristine-validate',
        errorTextTag: 'div',
        errorTextClass: 'pristine-error-text'
      }, config);
      this.validators = [];
      this.messages = {};
    }

    addValidator(field, validator, message) {
      this.validators.push({ field, validator, message });
      return this;
    }

    validate(event) {
      let isValid = true;
      const errors = [];

      this.validators.forEach(({ field, validator, message }) => {
        const value = this.getFieldValue(field);
        if (!validator(value)) {
          isValid = false;
          errors.push({ field, message });
          this.showError(field, message);
        } else {
          this.removeError(field);
        }
      });

      if (event && !isValid) {
        event.preventDefault();
      }

      return isValid;
    }

    getFieldValue(field) {
      const type = field.getAttribute('type');
      if (type === 'checkbox') {
        return field.checked;
      }
      if (type === 'radio') {
        const checked = document.querySelector(`input[name="${field.getAttribute('name')}"]:checked`);
        return checked ? checked.value : null;
      }
      return field.value;
    }

    showError(field, message) {
      const wrapper = field.closest(`.${this.config.classTo}`);
      if (wrapper) {
        wrapper.classList.add(this.config.errorClass);
        wrapper.classList.remove(this.config.successClass);
      }

      const errorId = `pristine-error-${field.name}`;
      let errorElement = document.getElementById(errorId);
      if (!errorElement) {
        errorElement = document.createElement(this.config.errorTextTag);
        errorElement.id = errorId;
        errorElement.className = this.config.errorTextClass;
        const parent = wrapper || field.parentNode;
        parent.appendChild(errorElement);
      }
      errorElement.textContent = message;
    }

    removeError(field) {
      const wrapper = field.closest(`.${this.config.classTo}`);
      if (wrapper) {
        wrapper.classList.remove(this.config.errorClass);
        wrapper.classList.add(this.config.successClass);
      }

      const errorId = `pristine-error-${field.name}`;
      const errorElement = document.getElementById(errorId);
      if (errorElement && errorElement.parentNode) {
        errorElement.parentNode.removeChild(errorElement);
      }
    }

    reset() {
      this.validators.forEach(({ field }) => {
        this.removeError(field);
      });
    }

    destroy() {
      this.validators = [];
      this.messages = {};
    }
  }

  return Pristine;
});
/* eslint-enable */
